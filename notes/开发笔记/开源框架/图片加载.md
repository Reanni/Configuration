# 各种框架对比

# Glide
- 资源封装 : 以键值对的方式对`path`以及`bitmap`进行封装
  - key : 对path进行转码.因为缓存磁盘时是以path为目录,但url里会存在目录不支持的字符
  - value : 对bitmap的使用进行计数,计数小于等于0时代表没有使用,进行没有使用监听
- 缓存策略 : 主要分内存缓存区域和磁盘缓存区域两大类
  - 内存缓存区域 : 分为活动缓存与Lru缓存,这两个缓存互斥(同一个bitmap只会缓存在其中一个里面)
    1. 活动缓存 : 代表正在使用的bitmap.使用完毕后将bitmap移动到Lru缓存.其存在的意义是为了避免bitmap正在使用时由于Lru超容而被清除
    2. Lru缓存 : 代表没有使用的bitmap.bitmap被使用会移动到活动缓存.超容后移动到磁盘缓存
  - 磁盘缓存区域 : 使用Lru算法的DiskLruCache.缓存原始数据、优化数据
- 生命周期管理 : 根据传入的Context类型,如果是Activity就注入一个空的Fragment(注入前先判断是否已存在,没有才注入),通过在Fragment的生命周期中使用接口回调来监听Activity的生命周期.