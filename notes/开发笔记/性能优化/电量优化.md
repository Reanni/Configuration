# 电量优化的主要三个模块
- 显示

    | 屏幕技术 |     影响功耗的点     |
    |:-------:|:-------------------:|
    |  OLED   | 浅色(亮色)比深色耗电 |
    |   LCD   |        亮度         |
    亮度由系统控制,应用内调节不现实,所以能做的就是设计页面时优先考虑深色

- 网络
  - 蜂窝数据比wifi耗电,尽量利用wifi网络传输数据,蜂窝数据下不预加载数据、减少网络通信频率
  - 合并网络请求,减少请求次数
  - 实时信息上报后台改为非实时上报
  - 网络很差的时候,请求失败了就不要重试,重试也没结果
  - 避免2G时后台传输数据

- cpu
  - 计算优化
    - 尽量避开浮点运算
    - 用乘法替换除法
    - 尽量使用位运算
  - 避免WakeLock的不当使用
    - 用完立即释放,避免长时间阻止cpu休眠
    - Activity中使用KeepScreenOn代替使用FULL_WAKE_LOCK
    - 四大组件中,Service里尽可能少用WakeLock,其他三个不用
  - 避免AlarmManager的不当使用
  - 使用JobScheduler(WorkManager)
    - 重要不紧急的任务,延迟执行,如定期数据库更换和数据上报
    - 耗电大的任务充电时执行,如数据备份操作
    - 不紧急可不执行的任务,如wifi环境预加载数据
    - 可批量执行的任务

# 编码时注意优化事项
- 阻止手机休眠
- 时常唤醒手机
- 后台频繁运行
- 过度绘制,减少View不必要的背景
- Activity onPause时尽可能释放耗电资源,如传感器、位置更新
- 缩小广播作用范围,如定向发送广播时、限定广播接受者的范围、使用本地广播
